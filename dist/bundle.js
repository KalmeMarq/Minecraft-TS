(()=>{"use strict";class t{constructor(t,e){this.userInfo=t,this.gameInfo=e}}t.GameInformation=class{constructor(t,e,i,s,n){this.isDemo=t,this.version=e,this.versionType=i,this.disableMultiplayer=s,this.disableChat=n}},t.UserInformation=class{constructor(t){this.userName=t}};var e={};function i(t,i){switch(t){case"textures":return e["assets/minecraft/textures/"+i+".png"];case"sounds":return e["assets/minecraft/sounds/"+i+".ogg"].cloneNode();case"texts":return e["assets/minecraft/texts/"+i+".txt"];case"fonts":return e["assets/minecraft/font/"+i+".json"];case"langs":return e["assets/minecraft/lang/"+i+".json"];default:return!1}}class s{static milliTime(){return(new Date).getMilliseconds()}static nanoTime(){return 1e6*this.milliTime()}static createLog(...t){let e="";t.forEach((t=>e+=t)),console.log(e.trim())}static isInside(t,e,i,s,n,a,r){return t>i&&t<i+s&&e>n&&e<n+a&&r()}static sortIteratable(t,e){return t.getId()-e.getId()}static getTranslation(t){return i("langs","en_us")[t]?i("langs","en_us")[t]:t}static hashCode53(t,e=0){let i=3735928559^e,s=1103547991^e;for(let e,n=0;n<t.length;n++)e=t.charCodeAt(n),i=Math.imul(i^e,2654435761),s=Math.imul(s^e,1597334677);return i=Math.imul(i^i>>>16,2246822507)^Math.imul(s^s>>>13,3266489909),s=Math.imul(s^s>>>16,2246822507)^Math.imul(i^i>>>13,3266489909),4294967296*(2097151&s)+(i>>>0)}static arrayToMap(t){return t.reduce((function(t,e){return t[e.key]=e.val,t}),{})}}class n{static getAlpha(t){return t>>>24}static getRed(t){return t>>16&255}static getGreen(t){return t>>8&255}static getBlue(t){return 255&t}static packColor(t,e,i){return`rgb(${t}, ${e}, ${i})`}static packDarkerColor(t,e,i){return`rgb(${.13*t}, ${.13*e}, ${.13*i})`}static getColor(t){return"string"==typeof t?t:this.packColor(this.getRed(t),this.getGreen(t),this.getBlue(t))}static getDarkerColor(t){return"string"==typeof t?t:this.packDarkerColor(this.getRed(t),this.getGreen(t),this.getBlue(t))}}function a(t,e){let s=i("sounds",t);s.volume=e,s.play()}class r{hLine(t,e,i,s,n){if(i<e){let a=e;e=i,i=a,t.fillStyle="number"==typeof n?"white":n,t.fillRect(e,s,i+1,s+1)}}vLine(t,e,i,s,n){if(s<i){let t=i;i=s,s=t}t.fillStyle="number"==typeof n?"white":n,t.fillRect(e,i+1,e+1,s)}blit(t,e,i,s,n,a,r,h){t.drawImage(e,n,a,r,h,i,s,r,h)}drawCenteredString(t,e,i,s,n,a){e.drawStringWithShadow(t,i,s-e.getTextWidth(i)/2,n,a)}drawString(t,e,i,s,n,a){e.drawStringWithShadow(t,i,s,n,a)}createBuffer(t,e,i){const s=document.createElement("canvas").getContext("2d");return s.canvas.width=t,s.canvas.height=e,s.save(),i(s),s.restore(),s.canvas}}r.BACKGROUND_LOCATION=i("textures","gui/options_background");class h extends r{constructor(t,e,s,n,a){super(),this.WIDGETS=i("textures","gui/widgets"),this.wasHovered=!1,this.isHovered=!1,this.active=!0,this.visible=!0,this.alpha=1,this.focused=!1,this.isMouseOver=(t,e)=>this.active&&this.visible&&t>=this.x&&e>=this.y&&t<this.x+this.width&&e<this.y+this.height,this.getWidth=()=>this.width,this.getMessage=()=>this.message,this.isFocused=()=>this.focused,this.isValidClickButton=t=>0===t,this.clicked=(t,e)=>this.active&&this.visible&&t>=this.x&&e>=this.y&&t<this.x+this.width&&e<this.y+this.height,this.x=~~t,this.y=~~e,this.width=s,this.height=n,this.message=a}render(t,e,i,s){this.visible&&(this.isHovered=e>=this.x&&i>=this.y&&e<this.x+this.width&&i<this.y+this.height,this.visible&&this.renderButton(t,e,i,s),this.wasHovered=this.getIsHovered())}renderButton(t,e,i,s){const n=mt.getInstance(),a=n.fontRenderer;let r=this.getYImage(this.getIsHovered());t.globalAlpha=this.alpha,this.blit(t,this.WIDGETS,this.x,this.y,0,46+20*r,this.width/2,this.height),this.blit(t,this.WIDGETS,this.x+this.width/2,this.y,200-this.width/2,46+20*r,this.width/2,this.height),this.renderBg(t,n,e,i);let h=this.active?16777215:10526880;this.drawCenteredString(t,a,this.getMessage(),this.x+this.width/2,this.y+(this.height-8)/2,h),t.globalAlpha=1}getYImage(t){return this.active?t?2:1:0}renderBg(t,e,i,s){}onClick(t,e){}onRelease(t,e){}onDrag(t,e,i,s){}mouseMoved(t,e){return!1}mouseClicked(t,e,i){return!(!this.active||!this.visible)&&(!(!this.isValidClickButton(i)||!this.clicked(t,e))&&(this.playClickSound(),this.onClick(t,e),!0))}playClickSound(){a("click_stereo",.5)}mouseReleased(t,e,i){return!!this.isValidClickButton(i)&&(this.onRelease(t,e),!0)}mouseDragged(t,e,i,s,n){return!!this.isValidClickButton(i)&&(this.onDrag(t,e,s,n),!0)}mouseScrolled(t,e,i){return!1}keyPressed(t,e){return!1}keyReleased(t,e){return!1}changeFocus(t){return!(!this.active||!this.visible)&&(this.focused=!this.focused,this.onFocusedChanged(this.focused),this.focused)}onFocusedChanged(t){}setWidth(t){this.width=t}setAlpha(t){this.alpha=t}setMessage(t){this.message=t}setFocused(t){this.focused=t}getIsHovered(){return this.isHovered||this.focused}}class o extends h{constructor(t,e,i,s,n){super(t,e,i,s,n)}onClick(t,e){this.onPress()}keyPressed(t,e){return!(!(this.active&&this.visible&&this.getIsHovered())||"Enter"!=t&&" "!=t||(a("sounds/click_stereo",.2),this.onPress(),0))}}class c extends o{constructor(t,e,i,s,n,a){super(t,e,i,s,n),this.onPressFunc=a}onPress(){this.onPressFunc(this)}}class l extends c{constructor(t,e,i,s,n,a,r,h,o,c,l,u){super(t,e,i,s,u,l),this.textureWidth=o,this.textureHeight=c,this.xTexStart=n,this.yTexStart=a,this.yDiffText=r,this.resourceLocation=h}setPosition(t,e){this.x=t,this.y=e}renderButton(t,e,i){let s=this.yTexStart;this.getIsHovered()&&(s+=this.yDiffText),t.globalAlpha=this.alpha,this.blit(t,this.resourceLocation,this.x,this.y,this.xTexStart,s,this.width,this.height),t.globalAlpha=1}}class u extends r{constructor(){super(...arguments),this.listener=null,this.isDragging=!1}getIsDragging(){return this.isDragging}setDragging(t){this.isDragging=t}getListener(){return this.listener}setListener(t){this.listener=t}getEventListeners(){}setFocusedDefault(t){this.setListener(t),null!==t&&t.changeFocus(!0)}setListenerDefault(t){this.setListener(t)}mouseMoved(t,e){return!1}mouseClicked(t,e,i){for(let s=0;s<this.getEventListeners().length;s++){const n=this.getEventListeners()[s];if(n.mouseClicked(t,e,i))return this.setListener(n),0==i&&this.setDragging(!0),!0}return!1}mouseReleased(t,e,i){return this.setDragging(!1),this.getListener()&&this.getListener().mouseReleased(t,e,i),!1}mouseDragged(t,e,i,s,n){return!(null==this.getListener()||!this.getIsDragging()||0!=i)&&this.getListener().mouseDragged(t,e,i,s,n)}mouseScrolled(t,e,i){return this.getListener()&&this.getListener().mouseScrolled(t,e,i),!1}keyPressed(t,e){return null!=this.getListener()&&this.getListener().keyPressed(t,e)}keyReleased(t,e){return null!=this.getListener()&&this.getListener().keyReleased(t,e)}changeFocus(t){let e=this.getListener();if(null!=e&&e.changeFocus(t))return!0;for(let t=0;t<this.getEventListeners().length;t++)this.getEventListeners()[t].isFocused()&&console.log("ss");return this.setListener(null),!1}isMouseOver(t,e){return!1}}class d extends u{constructor(...t){super(),this.title="",this.children=new Array,this.width=0,this.height=0,this.buttons=new Array,this.passEvents=!1,t.length>0&&(this.title=t[0])}getTitle(){return this.title?this.title:""}render(t,e,i,s){for(let n=0;n<this.buttons.length;++n)this.buttons[n].render(t,e,i,s);t.setTransform(2,0,0,2,0,0),this.drawString(t,this.font,this.minecraft.getFPS().toString()+" FPS",1,1,16777215),t.setTransform(this.minecraft.getMainCanvas().getGuiScaleFactor(),0,0,this.minecraft.getMainCanvas().getGuiScaleFactor(),0,0)}shouldCloseOnEsc(){return!0}closeScreen(){this.minecraft.displayGuiScreen(null)}addButton(t){return this.buttons.push(t),this.addListener(t)}addListener(t){return this.children.push(t),t}keyPressed(t,e){return"Escape"==t&&this.shouldCloseOnEsc()?(this.closeScreen(),!0):"Tab"==t?(this.changeFocus(!0)||this.changeFocus(!1),!1):super.keyPressed(t,e)}initScreen(t,e,i){this.minecraft=t,this.font=t.fontRenderer,this.width=e,this.height=i,this.buttons=[],this.children=[],this.setListener(null),this.init()}getEventListeners(){return this.children}init(){}tick(){}onClose(){}isPauseScreen(){return!0}resize(t,e,i){this.initScreen(t,e,i)}static wrapScreenError(t,e,i){try{t()}catch(t){throw`\n        Failed to run action\n        Screen name: ${i}\n        ${e}\n      `}}isMouseOver(t,e){return!0}renderBackground(t,e){e?null!=this.minecraft.world||this.renderDirtBackground(t,e):this.renderDirtBackground(t,0)}renderDirtBackground(t,e){if(this.minecraft.textureBuffer.has("options_bg_0")){const i=this.minecraft.textureBuffer.get("options_bg_0");t.setTransform(this.minecraft.getMainCanvas().getGuiScaleFactor()+3-(3-this.minecraft.getMainCanvas().getGuiScaleFactor()),0,0,this.minecraft.getMainCanvas().getGuiScaleFactor()+3-(3-this.minecraft.getMainCanvas().getGuiScaleFactor()),0,0);for(let s=0;s<this.width/32;s++)for(let n=0;n<this.height/32;n++)this.blit(t,i,0+16*s,e+16*n,0,0,16,16);t.setTransform(this.minecraft.getMainCanvas().getGuiScaleFactor(),0,0,this.minecraft.getMainCanvas().getGuiScaleFactor(),0,0)}else this.minecraft.textureBuffer.add("options_bg_0",this.createBuffer(16,16,(t=>{t.filter="brightness(25%)",this.blit(t,i("textures","gui/options_background"),0,0,0,0,16,16)})))}getClassName(){return this.constructor.name}}class g{static clamp(t,e,i){return t<e?e:t>i?i:t}static lerp(t,e,i){return e+t*(i-e)}static ceil(t){let e=~~t;return t>e?e+1:e}static normalizeAngle(t,e){return t-e*Math.floor(t/e)}static sqrt(t){return Math.sqrt(t)}}class m{constructor(t,e){this.id=t,this.key=e}getId(){return this.id}getKey(){return this.key}static byId(t){return m.BY_ID[g.normalizeAngle(t,m.BY_ID.length)]}}m.OFF=new m(0,"options.ao.off"),m.MIN=new m(1,"options.ao.min"),m.MAX=new m(2,"options.ao.max"),m.BY_ID=Object.values(m).sort(s.sortIteratable);class p{constructor(t,e){this.id=t,this.key=e}getId(){return this.id}getKey(){return this.key}static byId(t){return p.BY_ID[g.normalizeAngle(t,p.BY_ID.length)]}}p.OFF=new p(0,"options.off"),p.CROSSHAIR=new p(1,"options.attack.crosshair"),p.HOTBAR=new p(2,"options.attack.hotbar"),p.BY_ID=Object.values(p).sort(s.sortIteratable);class S extends c{constructor(t,e,i,s,n,a,r){super(t,e,i,s,a,r),this.enumOptions=n}}class f{constructor(t){this.translatedBaseMessage=t}getBaseMessageTranslation(){return this.translatedBaseMessage}getGenericValueComponent(t){return s.getTranslation(this.getBaseMessageTranslation())+": "+s.getTranslation(t)}getPercentValueComponent(t){return s.getTranslation(this.getBaseMessageTranslation())+`: ${~~(100*t)}%`}getPixelValueComponent(t){return`${s.getTranslation(this.getBaseMessageTranslation())}: ${t}px`}getPercentageAddMessage(t){return`${s.getTranslation(this.getBaseMessageTranslation())}: ${~~t}`}getMessageWithValue(t){return this.getGenericValueComponent(t.toString())}}class w extends f{constructor(t,e,i){super(t),this.getter=e,this.setter=i}set(t,e){this.setPriv(t,"true"===e)}nextValue(t){this.setPriv(t,!this.get(t)),t.saveOptions()}setPriv(t,e){this.setter(t,e)}get(t){return this.getter(t)}createWidget(t,e,i,s){return new S(e,i,s,20,this,this.getName(t),(e=>{this.nextValue(t),console.log(this.getName(t)),e.setMessage(this.getName(t))}))}getName(t){return s.getTranslation(this.getBaseMessageTranslation())+": "+s.getTranslation(!0===this.get(t)?"options.on":"options.off")}}class y{constructor(t,e){this.id=t,this.key=e}getId(){return this.id}getKey(){return this.key}static byId(t){return y.BY_ID[g.normalizeAngle(t,y.BY_ID.length)]}}y.FULL=new y(0,"options.chat.visibility.full"),y.HIDDEN=new y(2,"options.chat.visibility.hidden"),y.SYSTEM=new y(1,"options.chat.visibility.system"),y.BY_ID=Object.values(y).sort(s.sortIteratable);class I{constructor(t,e){this.id=t,this.key=e}getId(){return this.id}getKey(){return this.key}static byId(t){return I.BY_ID[g.normalizeAngle(t,I.BY_ID.length)]}}I.OFF=new I(0,"options.off"),I.FAST=new I(1,"options.clouds.fast"),I.FANCY=new I(2,"options.clouds.fancy"),I.BY_ID=Object.values(I).sort(s.sortIteratable);class C{constructor(t,e){this.id=t,this.key=e}getId(){return this.id}getKey(){return this.key}static byId(t){return C.BY_ID[g.normalizeAngle(t,C.BY_ID.length)]}}C.FAST=new C(0,"options.graphics.fast"),C.FANCY=new C(1,"options.graphics.fancy"),C.FABULOUS=new C(2,"options.graphics.fabulous"),C.BY_ID=Object.values(C).sort(s.sortIteratable);class T{constructor(t,e){this.id=t,this.key=e}getId(){return this.id}getKey(){return this.key}static byId(t){return T.BY_ID[g.normalizeAngle(t,T.BY_ID.length)]}}T.LEFT=new T(0,"options.mainHand.left"),T.RIGHT=new T(1,"options.mainHand.right"),T.BY_ID=Object.values(T).sort(s.sortIteratable);class E{constructor(t,e){this.id=t,this.key=e}getId(){return this.id}getKey(){return this.key}static byId(t){return E.BY_ID[g.normalizeAngle(t,E.BY_ID.length)]}}E.OFF=new E(0,"options.narrator.off"),E.ALL=new E(1,"options.narrator.all"),E.CHAT=new E(2,"options.narrator.chat"),E.SYSTEM=new E(3,"options.narrator.system"),E.BY_ID=Object.values(E).sort(s.sortIteratable);class k extends f{constructor(t,e,i){super(t),this.setter=e,this.getter=i}setValueIndex(t,e){this.setter(t,e),t.saveOptions()}createWidget(t,e,i,s){return new S(e,i,s,20,this,this.getName(t),(e=>{this.setValueIndex(t,1),e.setMessage(this.getName(t))}))}getName(t){return this.getter(t,this)}}class b{constructor(t,e){this.id=t,this.key=e}getId(){return this.id}getKey(){return this.key}static byId(t){return b.BY_ID[g.normalizeAngle(t,b.BY_ID.length)]}}b.ALL=new b(0,"options.particles.all"),b.DESCREASED=new b(1,"options.particles.decreased"),b.MINIMAL=new b(2,"options.particles.minimal"),b.BY_ID=Object.values(b).sort(s.sortIteratable);class L{constructor(t,e){this.id=t,this.key=e}getId(){return this.id}getKey(){return this.key}static byId(t){return L.BY_ID[g.normalizeAngle(t,L.BY_ID.length)]}}L.FIRST_PERSON=new L(0,"FIRST_PERSON"),L.THIRD_PERSON_BACK=new L(1,"THIRD_PERSON_BACK"),L.THIRD_PERSON_FRONT=new L(2,"THIRD_PERSON_FRONT"),L.BY_ID=Object.values(L).sort(s.sortIteratable);class _ extends h{constructor(t,e,i,s,n,a){super(t,e,i,s,n),this.sliderValue=a}getYImage(t){return 0}renderBg(t,e,i,s){let n=20*(this.getIsHovered()?2:1);this.blit(t,this.WIDGETS,this.x+this.sliderValue*(this.width-8),this.y,0,46+n,4,20),this.blit(t,this.WIDGETS,this.x+this.sliderValue*(this.width-8)+4,this.y,196,46+n,4,20)}onClick(t,e){this.changeSliderValue(t)}keyDown(t,e){if(this.isFocused()){let e="ArrowLeft"==t;if(e||"ArrowRight"==t){let t=e?-1:1;this.setSliderValue(this.sliderValue+t/(this.width-8))}}return!1}changeSliderValue(t){this.setSliderValue((t-(this.x+4))/(this.width-8))}setSliderValue(t){let e=this.sliderValue;this.sliderValue=g.clamp(t,0,1),e!=this.sliderValue&&this.setSaveOptionValue(),this.setName()}onDrag(t,e,i,s){this.changeSliderValue(t),super.onDrag(t,e,i,s)}playClickSound(){return!1}onRelease(t,e){this.clicked(t,e)&&a("click_stereo",.5)}}class v extends _{constructor(t,e,i,s,n,a){super(e,i,s,n,"",a),this.settings=t}}class M extends v{constructor(t,e,i,s,n,a){super(t,e,i,s,n,a.normalizeValue(a.get(t))),this.option=a,this.setName()}setSaveOptionValue(){this.option.set(this.settings,this.option.denormalizeValue(this.sliderValue)),this.settings.saveOptions()}setName(){this.setMessage(this.option.getName(this.settings))}}class O extends f{constructor(t,e,i,s,n,a,r){super(t),this.minValue=e,this.maxValue=i,this.stepSize=s,this.getter=n,this.setter=a,this.getDisplayStringFunc=r}createWidget(t,e,i,s){return new M(t,e,i,s,20,this)}normalizeValue(t){return g.clamp((this.snapToStepClamp(t)-this.minValue)/(this.maxValue-this.minValue),0,1)}denormalizeValue(t){return this.snapToStepClamp(g.lerp(g.clamp(t,0,1),this.minValue,this.maxValue))}snapToStepClamp(t){return this.stepSize>0&&(t=this.stepSize*Math.round(t/this.stepSize)),g.clamp(t,this.minValue,this.maxValue)}getMinValue(){return this.minValue}getMaxValue(){return this.maxValue}setMaxValue(t){this.maxValue=t}set(t,e){this.setter(t,e)}get(t){return this.getter(t)}getName(t){return this.getDisplayStringFunc(t,this)}}class A{}A.RAW_MOUSE_INPUT=new w("options.rawMouseInput",(t=>t.rawMouseInput),((t,e)=>{t.rawMouseInput=e})),A.AUTO_SUGGEST_COMMANDS=new w("options.autoSuggestCommands",(t=>t.autoSuggestCommands),((t,e)=>{t.autoSuggestCommands=e})),A.field_244786_G=new w("options.hideMatchedNames",(t=>t.hideMatchedNames),((t,e)=>{t.hideMatchedNames=e})),A.CHAT_COLOR=new w("options.chat.color",(t=>t.chatColor),((t,e)=>{t.chatColor=e})),A.CHAT_LINKS=new w("options.chat.links",(t=>t.chatLinks),((t,e)=>{t.chatLinks=e})),A.CHAT_LINKS_PROMPT=new w("options.chat.links.prompt",(t=>t.chatLinksPrompt),((t,e)=>{t.chatLinksPrompt=e})),A.DISCRETE_MOUSE_SCROLL=new w("options.discrete_mouse_scroll",(t=>t.discreteMouseScroll),((t,e)=>{t.discreteMouseScroll=e})),A.VSYNC=new w("options.vsync",(t=>t.vsync),((t,e)=>{t.vsync=e})),A.ENTITY_SHADOWS=new w("options.entityShadows",(t=>t.entityShadows),((t,e)=>{t.entityShadows=e})),A.FORCE_UNICODE_FONT=new w("options.forceUnicodeFont",(t=>t.forceUnicodeFont),((t,e)=>{t.forceUnicodeFont=e})),A.INVERT_MOUSE=new w("options.invertMouse",(t=>t.invertMouse),((t,e)=>{t.invertMouse=e})),A.REALMS_NOTIFICATIONS=new w("options.realmsNotifications",(t=>t.realmsNotifications),((t,e)=>{t.realmsNotifications=e})),A.REDUCED_DEBUG_INFO=new w("options.reducedDebugInfo",(t=>t.reducedDebugInfo),((t,e)=>{t.reducedDebugInfo=e})),A.SHOW_SUBTITLES=new w("options.showSubtitles",(t=>t.showSubtitles),((t,e)=>{t.showSubtitles=e})),A.SNOOPER=new w("options.snooper",(t=>!1),((t,e)=>{t.snooper=e})),A.TOUCHSCREEN=new w("options.touchscreen",(t=>t.touchscreen),((t,e)=>{t.touchscreen=e})),A.FULLSCREEN=new w("options.fullscreen",(t=>t.fullscreen),((t,e)=>{document.documentElement,t.fullscreen=e})),A.VIEW_BOBBING=new w("options.viewBobbing",(t=>t.viewBobbing),((t,e)=>{t.viewBobbing=e})),A.AUTO_JUMP=new w("options.autoJump",(t=>t.autoJump),((t,e)=>{t.autoJump=e})),A.SHOW_FPS=new w("Show FPS",(t=>t.showFPS),((t,e)=>{t.showFPS=e})),A.HIDE_GUI=new w("Hide GUI",(t=>t.hideGUI),((t,e)=>{t.hideGUI=e})),A.SKIP_MULTIPLAYER_WARNING=new w("Skip Multiplayer Warning",(t=>t.skipMultiplayerWarning),((t,e)=>{t.skipMultiplayerWarning=e})),A.ADVANCED_TOOLTIPS=new w("Advanced tooltips",(t=>t.advancedItemTooltips),((t,e)=>{t.advancedItemTooltips=e})),A.HELD_TOOLTIPS=new w("Held tooltips",(t=>t.heldItemTooltips),((t,e)=>{t.heldItemTooltips=e})),A.HIDE_MATCHED_NAMES=new w("options.hideMatchedNames",(t=>t.hideMatchedNames),((t,e)=>{t.hideMatchedNames=e})),A.AO=new k("options.ao",((t,e)=>{t.ambientOcclusionStatus=m.byId(t.ambientOcclusionStatus.getId()+e)}),((t,e)=>e.getGenericValueComponent(s.getTranslation(t.ambientOcclusionStatus.getKey())))),A.ATTACK_INDICATOR=new k("options.attackIndicator",((t,e)=>{t.attackIndicator=p.byId(t.attackIndicator.getId()+e)}),((t,e)=>e.getGenericValueComponent(s.getTranslation(t.attackIndicator.getKey())))),A.CHAT_VISIBILITY=new k("options.chat.visibility",((t,e)=>{t.chatVisibility=y.byId(t.chatVisibility.getId()+e)}),((t,e)=>e.getGenericValueComponent(t.chatVisibility.getKey()))),A.MAIN_HAND=new k("options.mainHand",((t,e)=>{t.mainHand=T.byId(t.narrator.getId()+e)}),((t,e)=>e.getGenericValueComponent(t.mainHand.getKey()))),A.NARRATOR=new k("options.narrator",((t,e)=>{t.narrator=E.byId(t.narrator.getId()+e)}),((t,e)=>e.getGenericValueComponent(t.narrator.getKey()))),A.PARTICLES=new k("options.particles",((t,e)=>{t.particles=b.byId(t.particles.getId()+e)}),((t,e)=>e.getGenericValueComponent(s.getTranslation(t.particles.getKey())))),A.RENDER_CLOUDS=new k("options.renderClouds",((t,e)=>{t.cloudOption=I.byId(t.cloudOption.getId()+e)}),((t,e)=>e.getGenericValueComponent(s.getTranslation(t.cloudOption.getKey())))),A.ACCESSIBILITY_TEXT_BACKGROUND=new k("options.accessibility.text_background",((t,e)=>{t.accessibilityTextBackground=!t.accessibilityTextBackground}),((t,e)=>e.getGenericValueComponent(s.getTranslation(t.accessibilityTextBackground?"options.accessibility.text_background.chat":"options.accessibility.text_background.everywhere")))),A.GUI_SCALE=new k("options.guiScale",((t,e)=>{t.guiScale=0}),((t,e)=>0==t.guiScale?e.getGenericValueComponent(s.getTranslation("options.guiScale.auto")):e.getMessageWithValue(t.guiScale))),A.SNEAK=new k("key.sneak",((t,e)=>{t.toggleCrouch=!t.toggleCrouch}),((t,e)=>e.getGenericValueComponent(s.getTranslation(t.toggleCrouch?"options.key.toggle":"options.key.hold")))),A.SPRINT=new k("key.sprint",((t,e)=>{t.toggleSprint=!t.toggleSprint}),((t,e)=>e.getGenericValueComponent(s.getTranslation(t.toggleSprint?"options.key.toggle":"options.key.hold")))),A.GRAPHICS_FANCINESS=new k("options.graphics",((t,e)=>{t.graphicFanciness=C.byId(t.graphicFanciness.getId()+e)}),((t,e)=>e.getGenericValueComponent(s.getTranslation(t.graphicFanciness.getKey())))),A.POINT_OF_VIEW=new k("POINT_OF_VIEW",((t,e)=>{t.pointOfView=L.byId(t.pointOfView.getId()+e)}),((t,e)=>e.getGenericValueComponent(s.getTranslation(t.pointOfView.getKey())))),A.CHAT_SCALE=new O("options.chat.scale",0,1,0,(t=>t.chatScale),((t,e)=>{t.chatScale=e}),((t,e)=>{let i=e.normalizeValue(e.get(t));return 0==i?s.getTranslation(e.getBaseMessageTranslation())+": "+s.getTranslation(!0===e.get(t)?"options.on":"options.off"):e.getPercentValueComponent(i)})),A.CHAT_OPACITY=new O("options.chat.opacity",0,1,0,(t=>t.chatOpacity),((t,e)=>{t.chatOpacity=e}),((t,e)=>{let i=e.normalizeValue(e.get(t));return e.getPercentValueComponent(.9*i+.1)})),A.LINE_SPACING=new O("options.chat.line_spacing",0,1,0,(t=>t.chatLineSpacing),((t,e)=>{t.chatLineSpacing=e}),((t,e)=>e.getPercentValueComponent(e.normalizeValue(e.get(t))))),A.FOV_EFFECT_SCALE_SLIDER=new O("options.fovEffectScale",0,1,0,(t=>Math.pow(t.fovScaleEffect,2)),((t,e)=>{t.fovScaleEffect=g.sqrt(e)}),((t,e)=>{let i=e.normalizeValue(e.get(t));return 0==i?e.getGenericValueComponent(s.getTranslation("options.fovEffectScale.off")):e.getPercentValueComponent(i)})),A.SCREEN_EFFECT_SCALE_SLIDER=new O("options.screenEffectScale",0,1,0,(t=>t.screenEffectScale),((t,e)=>{t.screenEffectScale=e}),((t,e)=>{let i=e.normalizeValue(e.get(t));return 0==i?e.getGenericValueComponent(s.getTranslation("options.screenEffectScale.off")):e.getPercentValueComponent(i)})),A.DELAY_INSTANT=new O("options.chat.delay_instant",0,6,.1,(t=>t.chatDelay),((t,e)=>{t.chatDelay=e}),((t,e)=>{let i=e.get(t);return i<=0?s.getTranslation("options.chat.delay_none"):s.getTranslation("options.chat.delay").replace("%s",i.toFixed(1))})),A.ACCESSIBILITY_TEXT_BACKGROUND_OPACITY=new O("options.accessibility.text_background_opacity",0,1,0,(t=>t.accessibilityTextBackgroundOpacity),((t,e)=>{t.accessibilityTextBackgroundOpacity=e}),((t,e)=>e.getPercentValueComponent(e.normalizeValue(e.get(t))))),A.CHAT_WIDTH=new O("options.chat.width",0,1,0,(t=>t.chatWidth),((t,e)=>{t.chatWidth=e}),((t,e)=>{const i=e.normalizeValue(e.get(t));return e.getPixelValueComponent(Math.floor(280*i+40))})),A.CHAT_HEIGHT_FOCUSED=new O("options.chat.height.focused",0,1,0,(t=>t.chatHeightFocused),((t,e)=>{t.chatHeightFocused=e}),((t,e)=>{const i=e.normalizeValue(e.get(t));return e.getPixelValueComponent(Math.floor(160*i+20))})),A.CHAT_HEIGHT_UNFOCUSED=new O("options.chat.height.unfocused",0,1,0,(t=>t.chatHeightUnfocused),((t,e)=>{t.chatHeightUnfocused=e}),((t,e)=>{const i=e.normalizeValue(e.get(t));return e.getPixelValueComponent(Math.floor(160*i+20))})),A.RENDER_DISTANCE=new O("options.renderDistance",2,64,1,(t=>t.renderDistanceChunks),((t,e)=>{t.renderDistanceChunks=e}),((t,e)=>{const i=e.get(t);return e.getGenericValueComponent(s.getTranslation("options.chunks").replace("%s",i))})),A.ENTITY_DISTANCE_SCALING=new O("options.entityDistanceScaling",.5,5,.25,(t=>t.entityDistanceScaling),((t,e)=>{t.entityDistanceScaling=e}),((t,e)=>{const i=e.get(t);return e.getPercentValueComponent(i)})),A.GAMMA=new O("options.gamma",0,1,0,(t=>t.gamma),((t,e)=>{t.gamma=e}),((t,e)=>{const i=e.normalizeValue(e.get(t));return 0==i?e.getGenericValueComponent(s.getTranslation("options.gamma.min")):1==i?e.getGenericValueComponent(s.getTranslation("options.gamma.max")):e.getPercentageAddMessage(100*i)})),A.MIPMAP_LEVELS=new O("options.mipmapLevels",0,4,1,(t=>t.mipmapLevels),((t,e)=>{t.mipmapLevels=e}),((t,e)=>{const i=e.get(t);return 0==i?`${e.getBaseMessageTranslation()}: ${s.getTranslation("options.off")}`:e.getMessageWithValue(i)})),A.FRAMERATE_LIMIT=new O("options.framerateLimit",10,260,10,(t=>t.framerateLimit),((t,e)=>{t.framerateLimit=e}),((t,e)=>{const i=e.get(t);return i==e.getMaxValue()?e.getGenericValueComponent(s.getTranslation("options.framerateLimit.max")):e.getGenericValueComponent(s.getTranslation("options.framerate").replace("%s",i))})),A.FOV=new O("options.fov",30,110,1,(t=>t.fov),((t,e)=>{t.fov=e}),((t,e)=>{const i=e.get(t);return 70==i?e.getGenericValueComponent(s.getTranslation("options.fov.min")):i==e.getMaxValue()?e.getGenericValueComponent(s.getTranslation("options.fov.max")):e.getMessageWithValue(~~i)})),A.SENSITIVITY=new O("options.sensitivity",0,1,0,(t=>t.mouseSensitivity),((t,e)=>{t.mouseSensitivity=e}),((t,e)=>{const i=e.normalizeValue(e.get(t));return 0==i?e.getGenericValueComponent(s.getTranslation("options.sensitivity.min")):1==i?e.getGenericValueComponent(s.getTranslation("options.sensitivity.max")):e.getPercentValueComponent(2*i)})),A.MOUSE_WHEEL_SENSITIVITY=new class extends O{constructor(t,e,i,s,n,a,r){super(t,e,i,s,n,a,r)}normalizeValue(t){return Math.log(t/this.minValue)/Math.log(this.maxValue/this.minValue)}denormalizeValue(t){return this.minValue*Math.pow(Math.E,Math.log(this.maxValue/this.minValue)*t)}}("options.mouseWheelSensitivity",.01,10,.01,(t=>t.mouseWheelSensitivity),((t,e)=>{t.mouseWheelSensitivity=e}),((t,e)=>{const i=e.normalizeValue(e.get(t));return e.getGenericValueComponent(e.denormalizeValue(i).toFixed(2))}));class D extends d{constructor(t,e,i){super(i),this.parentScreen=t,this.gameSettings=e}onClose(){}closeScreen(){this.minecraft.displayGuiScreen(this.parentScreen)}}class B extends D{constructor(t,e){super(t,e,s.getTranslation("options.language")),this.warningInfo=`(${s.getTranslation("options.languageWarning")})`}init(){this.forceUnicodeFontBtn=this.addButton(new S(this.width/2-155,this.height-38,150,20,A.FORCE_UNICODE_FONT,A.FORCE_UNICODE_FONT.getName(this.gameSettings),(t=>{A.FORCE_UNICODE_FONT.nextValue(this.gameSettings),t.setMessage(A.FORCE_UNICODE_FONT.getName(this.gameSettings)),this.gameSettings.saveOptions()}))),this.confirmSettingsBtn=this.addButton(new c(this.width/2-155+160,this.height-38,150,20,s.getTranslation("gui.done"),(t=>{this.minecraft.displayGuiScreen(this.parentScreen)}))),super.init()}render(t,e,i,s){this.renderBackground(t),this.drawCenteredString(t,this.font,this.title,this.width/2,20,16777215),this.drawCenteredString(t,this.font,this.warningInfo,this.width/2,this.height-56,8421504),super.render(t,e,i,s)}}class N extends d{constructor(t){super(),this.prevScreen=t,this.buttonsActive=!1}init(){super.init(),this.btnSelectServer=this.addButton(new c(this.width/2-154,this.height-52,100,20,s.getTranslation("selectServer.select"),(t=>{}))),this.addButton(new c(this.width/2-50,this.height-52,100,20,s.getTranslation("selectServer.direct"),(t=>{}))),this.addButton(new c(this.width/2+54,this.height-52,100,20,s.getTranslation("selectServer.add"),(t=>{this.buttonsActive=!this.buttonsActive,this.changeActive()}))),this.btnEditServer=this.addButton(new c(this.width/2-154,this.height-28,70,20,s.getTranslation("selectServer.edit"),(t=>{}))),this.btnDeleteServer=this.addButton(new c(this.width/2-74,this.height-28,70,20,s.getTranslation("selectServer.delete"),(t=>{}))),this.addButton(new c(this.width/2+4,this.height-28,70,20,s.getTranslation("selectServer.refresh"),(t=>{this.buttonsActive=!1,this.refreshServerList()}))),this.addButton(new c(this.width/2+80,this.height-28,75,20,s.getTranslation("gui.cancel"),(t=>{this.minecraft.displayGuiScreen(this.prevScreen)}))),this.changeActive()}refreshServerList(){this.minecraft.displayGuiScreen(new N(this.prevScreen))}changeActive(){this.btnEditServer.active=!1,this.btnSelectServer.active=!1,this.btnDeleteServer.active=!1,this.buttonsActive&&(this.btnEditServer.active=!0,this.btnSelectServer.active=!0,this.btnDeleteServer.active=!0)}keyPressed(t,e){return!!super.keyPressed(t,e)||"F5"===t&&(this.refreshServerList(),!0)}render(t,e,i,s){this.renderBackground(t),this.drawCenteredString(t,this.font,this.title,this.width/2,20,16777215),super.render(t,e,i,s)}}class F extends D{constructor(t,e){super(t,e,s.getTranslation("options.accessibility.title")),this.SCREEN_OPTIONS=[A.NARRATOR,A.SHOW_SUBTITLES,A.ACCESSIBILITY_TEXT_BACKGROUND_OPACITY,A.ACCESSIBILITY_TEXT_BACKGROUND,A.CHAT_OPACITY,A.LINE_SPACING,A.DELAY_INSTANT,A.AUTO_JUMP,A.SNEAK,A.SPRINT,A.FOV_EFFECT_SCALE_SLIDER,A.SCREEN_EFFECT_SCALE_SLIDER]}init(){let t=0;for(const e of this.SCREEN_OPTIONS){let i=this.width/2-155+t%2*160,s=this.height/6-12+24*(t>>1);this.addButton(e.createWidget(this.minecraft.gameSettings,i,s,150)),t++}this.addButton(new c(this.width/2-100,this.height-27,200,20,s.getTranslation("gui.done"),(t=>{this.minecraft.displayGuiScreen(this.parentScreen)})))}render(t,e,i,s){this.renderBackground(t),this.drawCenteredString(t,this.font,this.title,this.width/2,20,16777215),super.render(t,e,i,s)}}class R extends D{constructor(t,e){super(t,e,s.getTranslation("options.chat.title")),this.SCREEN_OPTIONS=[A.CHAT_VISIBILITY,A.CHAT_COLOR,A.CHAT_LINKS,A.CHAT_LINKS_PROMPT,A.CHAT_OPACITY,A.ACCESSIBILITY_TEXT_BACKGROUND_OPACITY,A.CHAT_SCALE,A.LINE_SPACING,A.DELAY_INSTANT,A.CHAT_WIDTH,A.CHAT_HEIGHT_FOCUSED,A.CHAT_HEIGHT_UNFOCUSED,A.NARRATOR,A.AUTO_SUGGEST_COMMANDS,A.HIDE_MATCHED_NAMES,A.REDUCED_DEBUG_INFO]}init(){let t=0;for(const e of this.SCREEN_OPTIONS){let i=this.width/2-155+t%2*160,s=this.height/6-12+24*(t>>1);this.addButton(e.createWidget(this.minecraft.gameSettings,i,s,150)),t++}this.addButton(new c(this.width/2-100,this.height-27,200,20,s.getTranslation("gui.done"),(t=>{this.minecraft.displayGuiScreen(this.parentScreen)})))}render(t,e,i,s){this.renderBackground(t),this.drawCenteredString(t,this.font,this.title,this.width/2,20,16777215),super.render(t,e,i,s)}}class x extends D{constructor(t,e){super(t,e,s.getTranslation("options.mouse_settings.title"))}init(){this.addButton(new c(this.width/2-100,this.height-27,200,20,s.getTranslation("gui.done"),(t=>{this.minecraft.displayGuiScreen(this.parentScreen)})))}render(t,e,i,s){this.renderBackground(t),this.drawCenteredString(t,this.font,this.title,this.width/2,5,16777215),super.render(t,e,i,s)}}class G extends D{constructor(t,e){super(t,e,s.getTranslation("controls.title"))}init(){this.addButton(new c(this.width/2-155,18,150,20,s.getTranslation("options.mouse_settings"),(t=>{this.minecraft.displayGuiScreen(new x(this,this.gameSettings))}))),this.buttonReset=this.addButton(new c(this.width/2-155,this.height-29,150,20,s.getTranslation("controls.resetAll"),(t=>{}))),this.addButton(new c(this.width/2+5,this.height-29,150,20,s.getTranslation("gui.done"),(t=>{this.minecraft.displayGuiScreen(this.parentScreen)})))}render(t,e,i,s){this.renderBackground(t),this.drawCenteredString(t,this.font,this.title,this.width/2,8,16777215),this.buttonReset.active=!1,super.render(t,e,i,s)}}class P extends D{constructor(t,e){super(t,e,s.getTranslation("options.skinCustomisation.title"))}init(){this.addButton(new c(this.width/2-100,this.height/6+0,200,20,s.getTranslation("gui.done"),(t=>{this.minecraft.displayGuiScreen(this.parentScreen)})))}render(t,e,i,s){this.renderBackground(t),this.drawCenteredString(t,this.font,this.title,this.width/2,20,16777215),super.render(t,e,i,s)}}class V extends D{constructor(t,e){super(t,e,s.getTranslation("Debug"))}init(){this.addButton(new c(this.width/2-100,this.height-27,200,20,s.getTranslation("gui.done"),(t=>{this.minecraft.displayGuiScreen(this.parentScreen)})))}render(t,e,i,s){this.renderBackground(t),this.drawCenteredString(t,this.font,this.title,this.width/2,20,16777215),super.render(t,e,i,s)}}class H extends D{constructor(t,e){super(t,e,s.getTranslation("options.sounds.title"))}init(){const t=this.width/2-75,e=this.height/6-12;this.addButton(new c(t-25,e+180,200,20,s.getTranslation("gui.done"),(t=>{this.minecraft.displayGuiScreen(this.parentScreen)})))}render(t,e,i,s){this.renderBackground(t),this.drawCenteredString(t,this.font,this.title,this.width/2,15,16777215),super.render(t,e,i,s)}}class U extends d{constructor(t,e){super(e),this.dropInfo=s.getTranslation("pack.dropInfo"),this.prevScreen=t}closeScreen(){this.minecraft.displayGuiScreen(this.prevScreen)}init(){this.doneButton=this.addButton(new c(this.width/2+4,this.height-48,150,20,s.getTranslation("gui.done"),(t=>{this.closeScreen()}))),this.addButton(new c(this.width/2-154,this.height-48,150,20,s.getTranslation("pack.openFolder"),(t=>{})))}render(t,e,i,s){this.renderDirtBackground(t,0),this.drawCenteredString(t,this.font,this.title,this.width/2,8,16777215),this.drawCenteredString(t,this.font,this.dropInfo,this.width/2,20,11184810),super.render(t,e,i,s)}}class W extends u{constructor(t,e,i,s,n,a){super(),this.children=new Array,this.minecraft=t,this.width=e,this.height=i,this.itemHeight=a,this.yTop=s,this.yBottom=n}addEntry(t){return this.children.push(t),this.children.length-1}addOption(t,e){this.addEntry(Y.create(this.minecraft.gameSettings,this.width,t,e))}addOptions(t){for(let e=0;e<t.length;e+=2)this.addOption(t[e],e<t.length-1?t[e+1]:null)}mouseMoved(t,e){return!1}mouseClicked(t,e,i){return!1}mouseReleased(t,e,i){return!1}mouseDragged(t,e,i,s,n){return!1}mouseScrolled(t,e,i){return console.log("ss"),!1}keyPressed(t,e){return!1}keyReleased(t,e){return!1}changeFocus(t){return!1}isMouseOver(t,e){return!1}getRowTop(t){return this.yTop+4-0+t*this.itemHeight+0}getRowBottom(t){return this.getRowTop(t)+this.itemHeight}getRowLeft(){return this.width/2-this.getRowWidth()/2+2}getRowWidth(){return 220}renderList(t,e,i,s,n,a){let r=this.children.length;for(let e=0;e<r;++e){let i=this.getRowTop(e);if(this.getRowBottom(e)>=this.yTop&&i<=this.yBottom){this.itemHeight;let r=this.itemHeight-4,h=this.children[e],o=this.getRowWidth(),c=this.getRowLeft();h.render(t,e,i,c,o,r,s,n,!1,a)}}}render(t,e,s,n){if(this.minecraft.textureBuffer.has("options_bg_1")){const e=this.minecraft.textureBuffer.get("options_bg_0"),i=this.minecraft.textureBuffer.get("options_bg_1");t.setTransform(this.minecraft.getMainCanvas().getGuiScaleFactor()+3-(3-this.minecraft.getMainCanvas().getGuiScaleFactor()),0,0,this.minecraft.getMainCanvas().getGuiScaleFactor()+3-(3-this.minecraft.getMainCanvas().getGuiScaleFactor()),0,0);for(let i=0;i<this.width/32;i++)for(let s=0;s<this.height/32;s++)this.blit(t,e,0+16*i,0+16*s,0,0,16,16);for(let e=0;e<this.width/32;e++){let s=(this.yBottom-this.yTop)/32;for(let n=0;n<s;n++)n<s-1?this.blit(t,i,0+16*e,this.yTop/2+16*n,0,0,16,16):this.blit(t,i,0+16*e,this.yTop/2+16*n,0,0,16,12)}t.setTransform(this.minecraft.getMainCanvas().getGuiScaleFactor(),0,0,this.minecraft.getMainCanvas().getGuiScaleFactor(),0,0)}else this.minecraft.textureBuffer.add("options_bg_0",this.createBuffer(16,16,(t=>{t.filter="brightness(25%)",this.blit(t,i("textures","gui/options_background"),0,0,0,0,16,16)}))),this.minecraft.textureBuffer.add("options_bg_1",this.createBuffer(16,16,(t=>{t.filter="brightness(12%)",this.blit(t,i("textures","gui/options_background"),0,0,0,0,16,16)})));this.renderList(t,0,0,e,s,n)}}class Y{constructor(t){this.widgets=[],this.widgets=t}static create(t,e,i,s){let n=i.createWidget(t,e/2-155,0,150);return new Y(null==s?[n]:[n,s.createWidget(t,e/2-155+160,0,150)])}render(t,e,i,s,n,a,r,h,o,c){this.widgets.forEach((e=>{e.y=i,e.render(t,r,h,c)}))}}class K extends D{constructor(t,e){super(t,e,s.getTranslation("options.videoTitle")),this.OPTIONS=[A.GRAPHICS_FANCINESS,A.RENDER_DISTANCE,A.AO,A.FRAMERATE_LIMIT,A.VSYNC,A.VIEW_BOBBING,A.GUI_SCALE,A.ATTACK_INDICATOR,A.GAMMA,A.RENDER_CLOUDS,A.FULLSCREEN,A.PARTICLES,A.MIPMAP_LEVELS,A.ENTITY_SHADOWS,A.SCREEN_EFFECT_SCALE_SLIDER,A.ENTITY_DISTANCE_SCALING,A.FOV_EFFECT_SCALE_SLIDER]}init(){this.optionsRowList=new W(this.minecraft,this.width,this.height,32,this.height-32,25),this.optionsRowList.addOptions(this.OPTIONS),this.children.push(this.optionsRowList),this.addButton(new c(this.width/2-100,this.height-27,200,20,s.getTranslation("gui.done"),(t=>{this.minecraft.displayGuiScreen(this.parentScreen)})))}render(t,e,i,s){this.optionsRowList.render(t,e,i,s),this.drawCenteredString(t,this.font,this.title,this.width/2,5,16777215),super.render(t,e,i,s)}}class q extends d{constructor(t,e){super(s.getTranslation("options.title")),this.parentScreen=t,this.settings=e}closeScreen(){this.minecraft.displayGuiScreen(this.parentScreen)}init(){const t=this.height/6-6,e=this.width/2-155,i=e+160;this.addButton(new c(e,t+24,150,20,s.getTranslation("Debug"),(()=>{this.minecraft.displayGuiScreen(new V(this,this.settings))}))),this.addButton(new c(e,t+48,150,20,s.getTranslation("options.skinCustomisation"),(()=>{this.minecraft.displayGuiScreen(new P(this,this.settings))}))),this.addButton(new c(i,t+48,150,20,s.getTranslation("options.sounds"),(()=>{this.minecraft.displayGuiScreen(new H(this,this.settings))}))),this.addButton(new c(e,t+72,150,20,s.getTranslation("options.video"),(()=>{this.minecraft.displayGuiScreen(new K(this,this.settings))}))),this.addButton(new c(i,t+72,150,20,s.getTranslation("options.controls"),(()=>{this.minecraft.displayGuiScreen(new G(this,this.settings))}))),this.addButton(new c(e,t+96,150,20,s.getTranslation("options.language"),(()=>{this.minecraft.displayGuiScreen(new B(this,this.settings))}))),this.addButton(new c(i,t+96,150,20,s.getTranslation("options.chat.title"),(()=>{this.minecraft.displayGuiScreen(new R(this,this.settings))}))),this.addButton(new c(e,t+120,150,20,s.getTranslation("options.resourcepack"),(()=>{this.minecraft.displayGuiScreen(new U(this,s.getTranslation("resourcePack.title")))}))),this.addButton(new c(i,t+120,150,20,s.getTranslation("options.accessibility.title"),(()=>{this.minecraft.displayGuiScreen(new F(this,this.settings))}))),this.addButton(new c(this.width/2-100,t+174,200,20,s.getTranslation("gui.done"),(()=>{this.minecraft.displayGuiScreen(this.parentScreen)})))}render(t,e,i,s){this.renderBackground(t),this.drawCenteredString(t,this.font,this.title,this.width/2,15,16777215),super.render(t,e,i,s)}}class z extends d{constructor(t){super(""),this.MINECRAFT_TITLE_IMG=i("textures","gui/title/minecraft"),this.MINECRAFT_EDITION_IMG=i("textures","gui/title/edition"),this.WIDGETS_LOCATION=i("textures","gui/widgets"),this.ACCESSIBILITY_TEXTURES=i("textures","gui/accessibility"),this.splashText="",this.showFadeInAnimation=!1,this.firstRenderTime=0,this.widthCopyright=0,this.widthCopyrightRest=0,t&&(this.showFadeInAnimation=t)}isPauseScreen(){return!1}shouldCloseOnEsc(){return!1}tick(){}init(){""===this.splashText&&(this.splashText=this.minecraft.getSplashes().getSplashText()),this.widthCopyright=this.font.getTextWidth("Copyright Mojang AB. Do not distribute!"),this.widthCopyrightRest=this.width-this.widthCopyright-2;const t=~~this.height/4+48;this.minecraft.getIsDemo()?this.addDemoButtons(t,24):this.addSingleplayerMultiplayerButtons(t,24),this.addButton(new l(this.width/2-124,t+72+12,20,20,0,106,20,this.WIDGETS_LOCATION,256,256,(t=>{this.minecraft.displayGuiScreen(new B(this,this.minecraft.gameSettings))}),"")),this.addButton(new c(this.width/2-100,t+72+12,98,20,s.getTranslation("menu.options"),(t=>{this.minecraft.displayGuiScreen(new q(this,this.minecraft.gameSettings))}))),this.addButton(new c(this.width/2+2,t+72+12,98,20,s.getTranslation("menu.quit"),(t=>{this.minecraft.shutdown()}))),this.addButton(new l(this.width/2+104,t+72+12,20,20,0,0,20,this.ACCESSIBILITY_TEXTURES,32,64,(t=>{}),""))}addSingleplayerMultiplayerButtons(t,e){this.addButton(new c(this.width/2-100,t,200,20,s.getTranslation("menu.singleplayer"),(t=>{})));const i=this.minecraft.isMultiplayerEnabled();this.addButton(new c(this.width/2-100,t+1*e,200,20,s.getTranslation("menu.multiplayer"),(t=>{this.minecraft.displayGuiScreen(new N(this))}))).active=i,this.addButton(new c(this.width/2-100,t+2*e,200,20,s.getTranslation("menu.online"),(t=>{}))).active=i}addDemoButtons(t,e){this.addButton(new c(this.width/2-100,t,200,20,s.getTranslation("menu.playdemo"),(t=>{}))),this.buttonResetDemo=this.addButton(new c(this.width/2-100,t+1*e,200,20,s.getTranslation("menu.resetdemo"),(t=>{}))),this.buttonResetDemo.active=!1}render(t,e,i,a){t.fillStyle=n.getColor(3289650),t.fillRect(0,0,this.width,this.height),0===this.firstRenderTime&&this.showFadeInAnimation&&(this.firstRenderTime=s.milliTime());let r=this.showFadeInAnimation?(s.milliTime()-this.firstRenderTime)/1e3:1;r<0&&(this.showFadeInAnimation=!1);let h=this.showFadeInAnimation?r:1;this.showFadeInAnimation&&(t.globalAlpha=h);let o=this.width/2-137;try{if(this.minecraft.textureBuffer.has("mctitle_0")){let e=this.minecraft.textureBuffer.get("mctitle_0"),i=this.minecraft.textureBuffer.get("mctitle_1");this.blit(t,e,o,30,0,0,155,44),this.blit(t,e,o,29,0,0,155,44),this.blit(t,e,o,31,0,0,155,44),this.blit(t,e,o+1,29,0,0,155,44),this.blit(t,e,o+1,31,0,0,155,44),this.blit(t,this.MINECRAFT_TITLE_IMG,o+1,30,0,0,155,44),this.blit(t,i,o+155+1,30,0,0,155,44),this.blit(t,i,o+155,29,0,0,155,44),this.blit(t,i,o+155,31,0,0,155,44),this.blit(t,i,o+155+1,29,0,0,155,44),this.blit(t,i,o+155+1,31,0,0,155,44),this.blit(t,this.MINECRAFT_TITLE_IMG,o+155,30,0,45,155,44),this.blit(t,this.MINECRAFT_EDITION_IMG,o+88,67,0,0,98,14)}else this.minecraft.textureBuffer.add("mctitle_0",this.createBuffer(155,44,(t=>{this.blit(t,this.MINECRAFT_TITLE_IMG,0,0,0,0,155,44),t.globalCompositeOperation="source-in",t.fillStyle="black",t.fillRect(0,0,155,44)}))),this.minecraft.textureBuffer.add("mctitle_1",this.createBuffer(155,44,(t=>{this.blit(t,this.MINECRAFT_TITLE_IMG,0,0,0,45,155,44),t.globalCompositeOperation="source-in",t.fillStyle="black",t.fillRect(0,0,155,44)})))}catch(t){console.log("Failed to render buffer")}t.save();let c={x:o+240,y:59,width:this.font.getTextWidth(this.splashText),height:9};const l=s.milliTime();let u=1.5-Math.abs(.1*Math.sin(l%1e3/1e3*(2*Math.PI)));u=100*u/(this.font.getTextWidth(this.splashText)+32),t.translate(c.x,c.y),t.scale(u,u),t.rotate(-20*Math.PI/180),t.translate(-c.x,-c.y),this.drawCenteredString(t,this.font,this.splashText,c.x,c.y,16776960),t.restore();let d="Minecraft TS "+this.minecraft.getVersion();this.minecraft.getIsDemo()?d+=" Demo":d+="release"===this.minecraft.getVersionType()?"":"/"+this.minecraft.getVersionType(),d+=`/${this.minecraft.getPlayerName()}`,this.minecraft.isModdedClient()&&(d+=s.getTranslation("menu.modded")),this.drawString(t,this.font,d,2,this.height-10,16777215),this.drawString(t,this.font,"Copyright Mojang AB. Do not distribute!",this.widthCopyrightRest,this.height-10,16777215),e>this.widthCopyrightRest&&e<this.widthCopyrightRest+this.widthCopyright&&i>this.height-10&&i<this.height&&(t.fillStyle="white",t.fillRect(this.widthCopyrightRest,this.height-1,this.widthCopyrightRest+this.widthCopyright,1));for(const t of this.buttons)t.setAlpha(h);super.render(t,e,i,a)}mouseClicked(t,e,i){return!!super.mouseClicked(t,e,i)||(t>this.widthCopyrightRest&&t<this.widthCopyrightRest+this.widthCopyright&&e>this.height-10&&e<this.height&&a("click_stereo",.5),!1)}}class ${constructor(t){this.mc=t}updateCameraAndRender(t,e,i){if(!this.mc.skipRenderWorld){const e=~~(this.mc.mouseHelper.getMouseX()/this.mc.getMainCanvas().getGuiScaleFactor()),n=~~(this.mc.mouseHelper.getMouseY()/this.mc.getMainCanvas().getGuiScaleFactor()),a=this.mc.context;if(i&&null!=this.mc.world&&(this.mc.gameSettings.hideGUI&&null==this.mc.currentScreen||this.mc.ingameGUI.renderIngameGui(a,t)),a.clearRect(0,0,window.innerWidth,window.innerHeight),null!==this.mc.currentScreen)try{this.mc.currentScreen.render(a,e,n,this.mc.getTickLength())}catch(t){s.createLog("Failed to render screen","\n\nScreen render details:",`\n\tScreen name: ${this.mc.currentScreen.getClassName()}`,"\n\nMouse location:",`\n\tScaled: (${e}, ${n}). Absolute: (${this.mc.mouseHelper.getMouseX()}, ${this.mc.mouseHelper.getMouseY()})`,"\n\nScreen size:",`\n\tScaled: (${this.mc.getMainCanvas().getScaledWidth()}, ${this.mc.getMainCanvas().getScaledHeight()}). Absolute: (${window.innerWidth}, ${window.innerHeight}). Scale factor of ${this.mc.getMainCanvas().getGuiScaleFactor()}`,"\n\nMore Details:",`\n\t${t}`),this.mc.displayGuiScreen(new z)}}}tick(){}}class j{constructor(t,e,i){this.keyDescription=t,this.keyName=e,this.keyNameDefault=this.keyName,this.keyCategory=i,j.KEYBIND_ARRAY.set(t,this),j.HASH.set(this.keyName,this),j.KEYBIND_SET.add(i)}}j.KEYBIND_ARRAY=new Map,j.HASH=new Map,j.CATEGORY_ORDER=new Map([["key.categories.movement",1],["key.categories.gameplay",2],["key.categories.inventory",3],["key.categories.creative",4],["key.categories.multiplayer",5],["key.categories.ui",6],["key.categories.misc",7]]),j.KEYBIND_SET=new Set;class X{constructor(t,e){this.partId=t,this.partMask=1<<t,this.partName=e,this.name="options.modelPart."+e}getPartMask(){return this.partMask}getPartName(){return this.partName}getName(){return this.name}}X.CAPE=new X(0,"cape"),X.JACKET=new X(1,"jacket"),X.LEFT_SLEEVE=new X(2,"left_sleeve"),X.RIGHT_SLEEVE=new X(3,"right_sleeve"),X.LEFT_PANTS_LEG=new X(4,"left_pants_leg"),X.RIGHT_PANTS_LEG=new X(5,"right_pants_leg"),X.HAT=new X(6,"hat");class J{constructor(t,e){this.content=new Map,this.lsItem="",this.itemData="","create"===e?.toLowerCase()?(this.lsItem=t,this.itemData=""):"get"===e?.toLowerCase()&&localStorage.getItem(t).split("\n").forEach((t=>{""!==t&&this.content.set(t.split(":")[0],t.split(":")[1])}))}addLine(t){this.itemData+=""===this.itemData?t:"\n"+t}saveToLS(){localStorage.setItem(this.lsItem,this.itemData)}keySet(){return this.content.keys()}getString(t){return this.content.get(t)}}class Q{constructor(t){this.name=t}getName(){return this.name}}Q.MASTER=new Q("master"),Q.MUSIC=new Q("music"),Q.RECORDS=new Q("record"),Q.WEATHER=new Q("weather"),Q.BLOCKS=new Q("block"),Q.HOSTILE=new Q("hostile"),Q.NEUTRAL=new Q("neutral"),Q.PLAYERS=new Q("player"),Q.AMBIENT=new Q("ambient"),Q.VOICE=new Q("voice"),Q.SOUND_CATEGORIES=new Map(Object.values(Q).slice(0,-1));class Z{constructor(t){this.soundLevels=new Map(Object.entries(Q).slice(0,-1).map((t=>[t[1],1]))),this.setModelParts=new Set(Object.values(X)),this.graphicFanciness=C.FANCY,this.cloudOption=I.FANCY,this.ambientOcclusionStatus=m.MAX,this.attackIndicator=p.CROSSHAIR,this.narrator=E.OFF,this.chatVisibility=y.FULL,this.mainHand=T.LEFT,this.particles=b.ALL,this.pointOfView=L.FIRST_PERSON,this.mouseSensitivity=.5,this.renderDistanceChunks=-1,this.chatOpacity=1,this.chatLineSpacing=0,this.chatScale=.7,this.entityDistanceScaling=1,this.mipmapLevels=4,this.chatWidth=1,this.chatHeightUnfocused=.44366196,this.chatHeightFocused=1,this.chatDelay=0,this.accessibilityTextBackgroundOpacity=.5,this.advancedItemTooltips=!1,this.heldItemTooltips=!0,this.framerateLimit=60,this.showFPS=!0,this.skipMultiplayerWarning=!1,this.biomeBlendRadius=2,this.mouseWheelSensitivity=1,this.rawMouseInput=!0,this.autoJump=!0,this.autoSuggestCommands=!0,this.chatColor=!0,this.chatLinks=!0,this.chatLinksPrompt=!0,this.vsync=!0,this.entityShadows=!0,this.forceUnicodeFont=!1,this.invertMouse=!1,this.discreteMouseScroll=!1,this.realmsNotifications=!0,this.hideMatchedNames=!1,this.reducedDebugInfo=!1,this.snooper=!0,this.showSubtitles=!1,this.accessibilityTextBackground=!0,this.touchscreen=!1,this.fullscreen=!1,this.viewBobbing=!0,this.toggleCrouch=!1,this.toggleSprint=!1,this.language="en_us",this.hideGUI=!1,this.showDebugInfo=!1,this.fov=70,this.screenEffectScale=1,this.fovScaleEffect=1,this.gamma=1,this.guiScale=3,this.keyBindForward=new j("key.forward","w","key.categories.movement"),this.keyBindLeft=new j("key.left","a","key.categories.movement"),this.keyBindBack=new j("key.back","s","key.categories.movement"),this.keyBindRight=new j("key.right","d","key.categories.movement"),this.keyBindJump=new j("key.jump"," ","key.categories.movement"),this.keyBindInventory=new j("key.inventory","e","key.categories.inventory"),this.keyBindSwapHands=new j("key.swapOffhand","f","key.categories.inventory"),this.keyBindDrop=new j("key.drop","q","key.categories.inventory"),this.keyBindUseItem=new j("key.use","button1","key.categories.gameplay"),this.keyBindAttack=new j("key.attack","button0","key.categories.gameplay"),this.keyBindPickBlock=new j("key.pickItem","button2","key.categories.gameplay"),this.keyBindChat=new j("key.chat","t","key.categories.multiplayer"),this.keyBindPlayerList=new j("key.playerlist","tab","key.categories.multiplayer"),this.keyBindCommand=new j("key.command"," ","key.categories.multiplayer"),this.field_244602_au=new j("key.socialInteractions","p","key.categories.multiplayer"),this.keyBindScreenshot=new j("key.screenshot","F2","key.categories.misc"),this.keyBindTogglePerspective=new j("key.togglePerspective","F5","key.categories.misc"),this.keyBindSmoothCamera=new j("key.smoothCamera","","key.categories.misc"),this.keyBindFullscreen=new j("key.fullscreen","F11","key.categories.misc"),this.keyBindSpectatorOutlines=new j("key.spectatorOutlines","","key.categories.misc"),this.keyBindAdvancements=new j("key.advancements","l","key.categories.misc"),this.keyBindSaveToolbar=new j("key.saveToolbarActivator","x","key.categories.creative"),this.keyBindLoadToolbar=new j("key.loadToolbarActivator","c","key.categories.creative"),this.mc=t,this.loadOptions(),console.log("Game settings loaded!")}loadOptions(){if(localStorage.getItem("Options")){const t=new J("Options","get");for(const e of t.keySet()){const i=t.getString(e);try{"showFPS".equals(e)&&A.SHOW_FPS.set(this,i),"advancedItemTooltips".equals(e)&&A.ADVANCED_TOOLTIPS.set(this,i),"heldItemTooltips".equals(e)&&A.HELD_TOOLTIPS.set(this,i),"skipMultiplayerWarning".equals(e)&&A.SKIP_MULTIPLAYER_WARNING.set(this,i),"rawMouseInput".equals(e)&&A.RAW_MOUSE_INPUT.set(this,i),"autoJump".equals(e)&&A.AUTO_JUMP.set(this,i),"autoSuggestCommands".equals(e)&&A.AUTO_SUGGEST_COMMANDS.set(this,i),"chatColor".equals(e)&&A.CHAT_COLOR.set(this,i),"chatLinks".equals(e)&&A.CHAT_LINKS.set(this,i),"chatLinksPrompt".equals(e)&&A.CHAT_LINKS.set(this,i),"vsync".equals(e)&&A.VSYNC.set(this,i),"entityShadows".equals(e)&&A.ENTITY_SHADOWS.set(this,i),"forceUnicodeFont".equals(e)&&A.FORCE_UNICODE_FONT.set(this,i),"invertMouse".equals(e)&&A.INVERT_MOUSE.set(this,i),"discreteMouseScroll".equals(e)&&A.DISCRETE_MOUSE_SCROLL.set(this,i),"realmsNotifications".equals(e)&&A.REALMS_NOTIFICATIONS.set(this,i),"hideMatchedNames".equals(e)&&A.HIDE_GUI.set(this,i),"reducedDebugInfo".equals(e)&&A.REDUCED_DEBUG_INFO.set(this,i),"snooper".equals(e)&&A.SNOOPER.set(this,i),"showSubtitles".equals(e)&&A.SHOW_SUBTITLES.set(this,i),"backgroundForChatOnly".equals(e)&&(this.accessibilityTextBackground="true".equals(i)),"touchscreen".equals(e)&&A.TOUCHSCREEN.set(this,i),"fullscreen".equals(e)&&A.FULLSCREEN.set(this,i),"viewBobbing".equals(e)&&A.VIEW_BOBBING.set(this,i),"toggleCrouch".equals(e)&&(this.toggleCrouch="true".equals(i)),"toggleSprint".equals(e)&&(this.toggleSprint="true".equals(i)),"hideGUI".equals(e)&&A.HIDE_GUI.set(this,i),"showDebugInfo".equals(e)&&(this.showDebugInfo="true".equals(i)),"fov".equals(e)&&(this.fov=40*parseFloat(i)+70),"screenEffectScale".equals(e)&&(this.screenEffectScale=parseFloat(i)),"fovEffectScale".equals(e)&&(this.fovScaleEffect=parseFloat(i)),"biomeBlendRadius".equals(e)&&(this.biomeBlendRadius=parseInt(i)),"mouseWheelSensitivity".equals(e)&&(this.mouseWheelSensitivity=parseFloat(i)),"gamma".equals(e)&&(this.gamma=parseFloat(i)),"guiScale".equals(e)&&(this.guiScale=parseInt(i)),"mouseSensitivity".equals(e)&&(this.mouseSensitivity=parseFloat(i)),"renderDistanceChunks".equals(e)&&(this.renderDistanceChunks=parseInt(i)),"chatOpacity".equals(e)&&(this.chatOpacity=parseFloat(i)),"chatLineSpacing".equals(e)&&(this.chatLineSpacing=parseFloat(i)),"chatScale".equals(e)&&(this.chatScale=parseFloat(i)),"chatWidth".equals(e)&&(this.chatWidth=parseFloat(i)),"chatHeightUnfocused".equals(e)&&(this.chatHeightUnfocused=parseFloat(i)),"chatHeightFocused".equals(e)&&(this.chatHeightFocused=parseFloat(i)),"chatDelay".equals(e)&&(this.chatDelay=parseFloat(i)),"textBackgroundOpacity".equals(e)&&(this.accessibilityTextBackgroundOpacity=parseFloat(i)),"framerateLimit".equals(e)&&(this.framerateLimit=parseInt(i)),"language".equals(e)&&(this.language=i),"graphicsMode".equals(e)&&(this.graphicFanciness=C.byId(parseInt(i))),"renderClouds".equals(e)&&("true".equals(i)?this.cloudOption=I.FANCY:"false".equals(i)?this.cloudOption=I.OFF:"fast".equals(i)&&(this.cloudOption=I.FAST)),"ambientOcclusionStatus".equals(e)&&(this.ambientOcclusionStatus=m.byId(parseInt(i))),"attackIndicator".equals(e)&&(this.attackIndicator=p.byId(parseInt(i))),"narrator".equals(e)&&(this.narrator=E.byId(parseInt(i))),"chatVisibility".equals(e)&&(this.chatVisibility=y.byId(parseInt(i))),"mainHand".equals(e)&&(this.mainHand="left".equals(i)?T.LEFT:T.RIGHT),"particles".equals(e)&&(this.particles=b.byId(parseInt(i))),"pointOfView".equals(e)&&(this.pointOfView=L.byId(parseInt(i)));for(const t of Object.values(Q).slice(0,-1))e.equals(`soundCategory_${t.getName()}`)&&this.soundLevels.set(t,parseFloat(i))}catch(t){console.warn("Skipping bad option: {}:{}",e,i)}}}}saveOptions(){const t=new J("Options","create");try{switch(t.addLine("showFPS:"+A.SHOW_FPS.get(this)),t.addLine("skipMultiplayerWarning:"+A.SKIP_MULTIPLAYER_WARNING.get(this)),t.addLine("language:"+this.language),t.addLine("advancedItemTooltips:"+A.ADVANCED_TOOLTIPS.get(this)),t.addLine("heldItemTooltips:"+A.HELD_TOOLTIPS.get(this)),t.addLine("rawMouseInput:"+A.RAW_MOUSE_INPUT.get(this)),t.addLine("autoJump:"+A.AUTO_JUMP.get(this)),t.addLine("vsync:"+A.VSYNC.get(this)),t.addLine("forceUnicodeFont:"+A.FORCE_UNICODE_FONT.get(this)),t.addLine("showSubtitles:"+A.SHOW_SUBTITLES.get(this)),t.addLine("hideGUI:"+A.HIDE_GUI.get(this)),t.addLine("toggleCrouch:"+this.toggleCrouch),t.addLine("toggleSprint:"+this.toggleSprint),t.addLine("chatScale:"+this.chatScale),t.addLine("ambientOcclusionStatus:"+this.ambientOcclusionStatus.getId()),t.addLine("attackIndicator:"+this.attackIndicator.getId()),t.addLine("narrator:"+this.narrator.getId()),t.addLine("chatVisibility:"+this.chatVisibility.getId()),t.addLine("mainHand:"+(this.mainHand===T.LEFT?"left":"right")),t.addLine("particles:"+this.particles.getId()),t.addLine("pointOfView:"+this.pointOfView.getId()),t.addLine("mouseSensitivity:"+this.mouseSensitivity),t.addLine("renderDistanceChunks:"+this.renderDistanceChunks),t.addLine("chatOpacity:"+this.chatOpacity),t.addLine("chatLineSpacing:"+this.chatLineSpacing),t.addLine("chatScale:"+this.chatScale),t.addLine("chatWidth:"+this.chatWidth),t.addLine("chatHeightUnfocused:"+this.chatHeightUnfocused),t.addLine("chatHeightFocused:"+this.chatHeightFocused),t.addLine("chatDelay:"+this.chatDelay),t.addLine("textBackgroundOpacity:"+this.accessibilityTextBackgroundOpacity),t.addLine("framerateLimit:"+this.framerateLimit),t.addLine("biomeBlendRadius:"+this.biomeBlendRadius),t.addLine("mouseWheelSensitivity:"+this.mouseWheelSensitivity),t.addLine("autoSuggestCommands:"+A.AUTO_SUGGEST_COMMANDS.get(this)),t.addLine("chatColor:"+A.CHAT_COLOR.get(this)),t.addLine("chatLinks:"+A.CHAT_LINKS.get(this)),t.addLine("chatLinksPrompt:"+A.CHAT_LINKS_PROMPT.get(this)),t.addLine("entityShadows:"+A.ENTITY_SHADOWS.get(this)),t.addLine("invertMouse:"+A.INVERT_MOUSE.get(this)),t.addLine("discreteMouseScroll:"+A.DISCRETE_MOUSE_SCROLL.get(this)),t.addLine("realmsNotifications:"+A.REALMS_NOTIFICATIONS.get(this)),t.addLine("hideMatchedNames:"+this.hideMatchedNames),t.addLine("reducedDebugInfo:"+A.REDUCED_DEBUG_INFO.get(this)),t.addLine("snooper:"+A.SNOOPER.get(this)),t.addLine("backgroundForChatOnly:"+this.accessibilityTextBackground),t.addLine("touchscreen:"+A.TOUCHSCREEN.get(this)),t.addLine("fullscreen:"+A.FULLSCREEN.get(this)),t.addLine("viewBobbing:"+A.VIEW_BOBBING.get(this)),t.addLine("showDebugInfo:"+this.showDebugInfo),t.addLine("fov:"+(this.fov-70)/40),t.addLine("screenEffectScale:"+this.screenEffectScale),t.addLine("fovScaleEffect:"+this.fovScaleEffect),t.addLine("gamma:"+this.gamma),t.addLine("guiScale:"+this.guiScale),t.addLine("graphicsMode:"+this.graphicFanciness.getId()),this.cloudOption){case I.FANCY:t.addLine("renderClouds:true");break;case I.FAST:t.addLine("renderClouds:fast");break;case I.OFF:t.addLine("renderClouds:false")}for(const e of Object.values(Q).slice(0,-1))t.addLine(`soundCategory_${e.getName()}:`+this.getSoundLevel(e));t.saveToLS()}catch(t){console.error("Failed to save options",t)}}getSoundLevel(t){return this.soundLevels.has(t)?this.soundLevels.get(t):1}setSoundLevel(t,e){this.soundLevels.set(t,e)}changeGuiScale(t){this.guiScale=t}getModelParts(){const t=new Set;for(const e of this.setModelParts)t.add(e);return t}switchModelPartEnabled(t){this.getModelParts().has(t)?this.setModelParts.delete(t):this.setModelParts.add(t)}}class tt{constructor(t){this.ticks=0,this.mc=t}renderIngameGui(t,e){}tick(){}getTicks(){return this.ticks}reset(){}}class et extends d{constructor(t){super(),this.isFullMenu=t}init(){this.isFullMenu&&this.addButtons()}addButtons(){}tick(){super.tick()}render(t,e,i,s){this.isFullMenu,super.render(t,e,i,s)}}class it{constructor(t,e){this.renderPartialTicks=0,this.elapsedPartialTicks=0,this.tickLength=1e3/t,this.lastSyncSysClock=e}getPartialTicks(t){this.elapsedPartialTicks=(t-this.lastSyncSysClock)/this.tickLength,this.lastSyncSysClock=t,this.renderPartialTicks+=this.elapsedPartialTicks;let e=Math.ceil(this.renderPartialTicks);return this.renderPartialTicks-=e,e}}class st{static setKeyCallbacks(t){window.addEventListener("keydown",(e=>{"F5"!==e.key&&"Tab"!==e.key||e.preventDefault(),t(e.key,1,{altKeyDown:e.getModifierState("Alt"),altGrKeyDown:e.getModifierState("AltGraph"),capsLockKeyDown:e.getModifierState("CapsLock"),controlKeyDown:e.getModifierState("Control"),numLockKeyDown:e.getModifierState("NumLock"),shiftKeyDown:e.getModifierState("Shift")})})),window.addEventListener("keyup",(e=>{t(e.key,0,{altKeyDown:e.getModifierState("Alt"),altGrKeyDown:e.getModifierState("AltGraph"),capsLockKeyDown:e.getModifierState("CapsLock"),controlKeyDown:e.getModifierState("Control"),numLockKeyDown:e.getModifierState("NumLock"),shiftKeyDown:e.getModifierState("Shift")})}))}static setMouseCallbacks(t,e,i){window.addEventListener("mousemove",(e=>{t(e.clientX,e.clientY)})),window.addEventListener("mouseup",(t=>{e(t.button,0,{altKeyDown:t.getModifierState("Alt"),altGrKeyDown:t.getModifierState("AltGraph"),capsLockKeyDown:t.getModifierState("CapsLock"),controlKeyDown:t.getModifierState("Control"),numLockKeyDown:t.getModifierState("NumLock"),shiftKeyDown:t.getModifierState("Shift")})})),window.addEventListener("mousedown",(t=>{e(t.button,1,{altKeyDown:t.getModifierState("Alt"),altGrKeyDown:t.getModifierState("AltGraph"),capsLockKeyDown:t.getModifierState("CapsLock"),controlKeyDown:t.getModifierState("Control"),numLockKeyDown:t.getModifierState("NumLock"),shiftKeyDown:t.getModifierState("Shift")})})),window.addEventListener("contextmenu",(t=>{t.preventDefault()})),window.addEventListener("wheel",(t=>{i(t.deltaX,t.deltaY)}))}}class nt{constructor(t){this.leftDown=!1,this.middleDown=!1,this.rightDown=!1,this.mouseX=0,this.mouseY=0,this.ignoreFirstMove=!0,this.touchScreenCounter=0,this.eventTime=0,this.accumulatedScrollDelta=0,this.activeButton=-1,this.minecraft=t}registerCallbacks(){st.setMouseCallbacks(((t,e)=>{this.cursorPosCallback(t,e)}),((t,e,i)=>{this.mouseButtonCallback(t,e)}),((t,e)=>{this.scrollCallback(t,e)}))}mouseButtonCallback(t,e){const i=1===e,s=t;i?this.activeButton=s:-1!=this.activeButton&&(this.activeButton=-1);let n=new Array(!1);if(null!==this.minecraft.currentScreen){let t=this.mouseX/this.minecraft.getMainCanvas().getGuiScaleFactor(),e=this.mouseY/this.minecraft.getMainCanvas().getGuiScaleFactor();i?d.wrapScreenError((()=>{n[0]=this.minecraft.currentScreen.mouseClicked(t,e,s)}),"mouseClicked event handler",this.minecraft.currentScreen.getClassName()):d.wrapScreenError((()=>{n[0]=this.minecraft.currentScreen.mouseReleased(t,e,s)}),"mouseReleased event handler",this.minecraft.currentScreen.getClassName())}n[0]||null!=this.minecraft.currentScreen&&!this.minecraft.currentScreen.passEvents||(0==s?this.leftDown=i:2==s?this.middleDown=i:1==s&&(this.rightDown=i))}scrollCallback(t,e){if(null!=this.minecraft.currentScreen){let t=this.mouseX/this.minecraft.getMainCanvas().getGuiScaleFactor(),i=this.mouseY/this.minecraft.getMainCanvas().getGuiScaleFactor();this.minecraft.currentScreen.mouseScrolled(t,i,e)}}cursorPosCallback(t,e){this.ignoreFirstMove&&(this.mouseX=t,this.mouseY=e,this.ignoreFirstMove=!1);const i=this.minecraft.currentScreen;if(null!==i){let s=t/3,n=e/3;if(d.wrapScreenError((()=>{i.mouseMoved(s,n)}),"mouseMoved event handler",i.getClassName()),-1!==this.activeButton){let a=(t-this.mouseX)*this.minecraft.getMainCanvas().getGuiScaleFactor(),r=(e-this.mouseY)*this.minecraft.getMainCanvas().getGuiScaleFactor();i.mouseDragged(s,n,this.activeButton,a,r)}}this.mouseX=t,this.mouseY=e}isLeftDown(){return this.leftDown}isRightDown(){return this.rightDown}getMouseX(){return this.mouseX}getMouseY(){return this.mouseY}}class at{constructor(t){this.width=0,this.height=0,this.scaledWidth=0,this.scaledHeight=0,this.guiScaleFactor=3,this.mc=t,window.addEventListener("resize",(()=>{this.mc.updateWindowSize()}))}setGuiScale(t){this.guiScaleFactor=t;const e=~~(window.innerWidth/t);this.scaledWidth=e;const i=~~(window.innerHeight/t);this.scaledHeight=i}getScaledWidth(){return~~this.scaledWidth}getScaledHeight(){return~~this.scaledHeight}getGuiScaleFactor(){return this.guiScaleFactor}}class rt{constructor(){this.ref=i("fonts","default"),this.fonts={ascii:i("textures","font/ascii"),accented:i("textures","font/accented")},this.asciiChars=[],this.accentedChars=[],this.asciiCharsStore={},this.accentedCharsStore={},this.allCharsStore={},this.characterBuffer=new ht,this.ref.providers[2].chars.forEach((t=>{t.split("").forEach((t=>{this.asciiChars.push(t)}))})),this.asciiChars.forEach((t=>{this.asciiCharsStore[t]=new ot("ascii",this.fonts,this.asciiChars,t)})),this.ref.providers[1].chars.forEach((t=>{t.split("").forEach((t=>{this.accentedChars.push(t)}))})),this.accentedChars.forEach((t=>{this.accentedCharsStore[t]=new ot("accented",this.fonts,this.accentedChars,t)})),Object.entries(this.asciiCharsStore).forEach((([t,e])=>{this.allCharsStore[t]||(this.allCharsStore[t]=e)})),Object.entries(this.accentedCharsStore).forEach((([t,e])=>{this.allCharsStore[t]||(this.allCharsStore[t]=e)}))}drawStringWithShadow(t,e,i,s,a){const r="number"==typeof a?n.getColor(a):a,h="number"==typeof a?n.getDarkerColor(a):"black";for(let n=0,a=i;n<e.length;n++){let i=e[n],o=this.allCharsStore[i];if(null===this.characterBuffer.get(i,r).src)this.characterBuffer.add(this.allCharsStore[i],r),null===this.characterBuffer.get(i,h).src&&this.characterBuffer.add(this.allCharsStore[i],h);else{let e="ascii"==o.type?0:3;t.drawImage(this.characterBuffer.get(i,h).src,a+1,s+1-e),t.drawImage(this.characterBuffer.get(i,r).src,a,s-e),a+=o.width," "!==i&&a--}}}getTextWidth(t){let e=0;for(let i=0;i<t.length;i++)try{e+=this.allCharsStore[t[i]].width-1}catch(t){rt.hasCatchedError||(rt.hasCatchedError=!0,s.createLog("Char not found!"))}return e}}rt.hasCatchedError=!1;class ht{constructor(){this.buffer={}}add(t,e){if(this.buffer[t.char]||(this.buffer[t.char]={}),!this.buffer[t.char][e]){const i=document.createElement("canvas"),s=i.getContext("2d");i.width=t.width,i.height=t.height,s.save(),s.globalAlpha=1,s.drawImage(t.fontImg,t.xUV,t.yUV,t.width,t.height,0,0,t.width,t.height),s.globalCompositeOperation="source-in",s.fillStyle=e,s.fillRect(0,0,t.width,t.height),s.restore(),this.buffer[t.char][e]=s.canvas}}get(t,e){let i=null;return this.buffer[t]&&this.buffer[t][e]&&(i=this.buffer[t][e]),{char:t,color:e,src:i}}}ht.hasCatchedError=!1;class ot{constructor(t,e,i,s){this.type=t,this.fontImg=e[t],this.char=s,this.baseWidth="ascii"==t?7:10,this.baseHeight="ascii"==t?8:12,this.width=7,Object.entries({i:3,:3,".":3,"'":3,":":3,",":2,f:6,k:6,"(":6," ":4,l:4,"`":5,t:5,I:5,'"':5}).forEach((([t,e])=>t==s?this.width=e:null)),this.height="ascii"==t?8:12;let n=i.findIndex((t=>t==s));this.yIndex=Number(~~(n/16)),this.xIndex=Number(n%16),this.xUV=this.xIndex+this.xIndex*this.baseWidth,this.yUV=this.yIndex*this.baseHeight,"accented"==this.type&&(this.yIndex=Number(~~(n/16)),this.xIndex=Number(n%16),this.xUV=this.xIndex+this.xIndex*(this.baseWidth-2),this.yUV=this.yIndex*this.baseHeight)}}class ct{constructor(t){this.i=0,this.mc=t}onKeyEvent(t,e,i){const s=this.mc.currentScreen;1!=e?0==e&&s?.keyReleased(t,i):s?.keyPressed(t,i)}setupCallbacks(){st.setKeyCallbacks(((t,e,i)=>{this.onKeyEvent(t,e,i)}))}}class lt{constructor(){this.possibleSplashes=new Array,this.reload()}reload(){this.apply(this.prepare())}prepare(){try{return i("texts","splashes").split(/\r?\n/)}catch{return[]}}apply(t){this.possibleSplashes=[],this.possibleSplashes=t}getSplashText(){const t=new Date,e=t.getMonth(),i=t.getDate();return e+1===12&&24===i?"Merry X-mas!":e+1===1&&1===i?"Happy new year!":e+1===10&&31===i?"OOoooOOOoooo! Spooky!":0===this.possibleSplashes.length?"":this.possibleSplashes[Math.ceil(Math.random()*(this.possibleSplashes.length-1))]}}lt.SPLASHES=i("texts","splashes");class ut{constructor(){this.buffer=new Map}add(t,e){this.buffer.get(t)||this.buffer.set(t,e)}get(t){try{if(this.buffer.has(t))return this.buffer.get(t);{const t=document.createElement("canvas");return t.width=t.height=1,t}}catch(t){const e=document.createElement("canvas");return e.width=e.height=1,e}}has(t){return this.buffer.has(t)}remove(t){try{if(this.buffer.has(t)){let e=this.buffer.get(t);return this.buffer.delete(t),e}}catch(e){s.createLog(`Failed to remove buffer of key ${t}`)}}clearAll(){this.buffer.clear()}}class dt{constructor(t,e,i,s){this.languageCode=t,this.region=e,this.name=i,this.bidirectional=s}getCode(){return this.languageCode}getName(){return this.name}getRegion(){return this.region}isBidirectional(){return this.bidirectional}toString(){return`${this.name} (${this.region})`}equals(t){return this==t||t instanceof dt&&this.languageCode.equals(t.languageCode)}hashCode(){return s.hashCode53(this.languageCode)}compareTo(t){return this.languageCode.localeCompare(t.languageCode)}}class gt{constructor(t){this.language=gt.currentLang,this.currentLanguage=t}setCurrentLanguage(t){this.currentLanguage=t.getCode(),this.language=t}getCurrentLanguage(){return this.language}}gt.currentLang=new dt("en_us","US","English",!1);class mt{constructor(t){this.timer=new it(20,0),this.loadingGui=null,this.running=!0,this.currentScreen=null,this.world=null,this.context=document.getElementById("root").getContext("2d"),this.fps=0,this.times=[],this.testPlayerName="Steve",mt.instance=this,this.textureBuffer=new ut,this.launchedVersion=t.gameInfo.version,this.versionType=t.gameInfo.versionType,this.isDemo=t.gameInfo.isDemo,this.enableMultiplayer=!t.gameInfo.disableMultiplayer,this.enableChat=!t.gameInfo.disableChat,this.testPlayerName=t.userInfo.userName,this.splashes=new lt,this.gameSettings=new Z(this),this.languageManager=new gt(this.gameSettings.language),this.mainCanvas=new at(this),this.mouseHelper=new nt(this),this.mouseHelper.registerCallbacks(),this.keyboardListener=new ct(this),this.keyboardListener.setupCallbacks(),this.fontRenderer=new rt,this.gameRenderer=new $(this),this.ingameGUI=new tt(this),this.displayGuiScreen(new z(!0)),this.updateWindowSize()}run(){try{let t,e=!1;const i=()=>{window.setRunning=e=>e?(this.running=!0,t=requestAnimationFrame(i),!0):(this.running=!1,!1),t=requestAnimationFrame(i),this.running?this.runGameLoop(!e):cancelAnimationFrame(t)};i()}catch(t){s.createLog("Couldn't run Minecraft!","\n\nMore Details:",`\n\t${t}`)}}getFPS(){for(var t=performance.now();this.times.length>0&&this.times[0]<=t-1e3;)this.times.shift();return this.times.push(t),this.fps=this.times.length,this.fps}runGameLoop(t){let e=s.nanoTime();if(t){let t=this.timer.getPartialTicks(s.milliTime());for(let e=0;e<Math.min(10,t);++e)this.runTick()}this.skipRenderWorld||this.gameRenderer.updateCameraAndRender(this.isGamePaused?this.renderPartialTicksPaused:this.timer.renderPartialTicks,e,t);let i=null!=this.currentScreen&&this.currentScreen.isPauseScreen()&&!0;this.isGamePaused!=i&&(this.isGamePaused?this.renderPartialTicksPaused=this.timer.renderPartialTicks:this.timer.renderPartialTicks=this.renderPartialTicksPaused,this.isGamePaused=i)}updateWindowSize(){this.mainCanvas.setGuiScale(this.mainCanvas.getGuiScaleFactor()),this.context.canvas.width=window.innerWidth,this.context.canvas.height=window.innerHeight,this.context.scale(this.mainCanvas.getGuiScaleFactor(),this.mainCanvas.getGuiScaleFactor()),this.context.imageSmoothingEnabled=!1,null!=this.currentScreen&&this.currentScreen.resize(this,this.mainCanvas.getScaledWidth(),this.mainCanvas.getScaledHeight())}shutdown(){this.running=!1}isRunning(){return this.running}displayInGameMenu(t){null==this.currentScreen&&this.displayGuiScreen(new et(!t))}runTick(){this.isGamePaused||this.ingameGUI.tick(),null!==this.currentScreen&&d.wrapScreenError((()=>{this.currentScreen.tick()}),"Ticking screen",this.currentScreen.getClassName()),this.gameSettings.showDebugInfo||this.ingameGUI.reset(),(null==this.currentScreen||this.currentScreen.passEvents)&&this.processKeyBinds(),null==this.world||this.isGamePaused||this.gameRenderer.tick()}processKeyBinds(){}displayGuiScreen(t){null!=this.currentScreen&&this.currentScreen.onClose(),null==t&&null==this.world&&(t=new z),(t instanceof z||t instanceof N)&&(this.gameSettings.showDebugInfo=!1),this.currentScreen=t,null!=t&&t.initScreen(this,this.mainCanvas.getScaledWidth(),this.mainCanvas.getScaledHeight())}static getInstance(){return mt.instance}static isGuiEnabled(){return!this.instance.gameSettings.hideGUI}getIsDemo(){return this.isDemo}getVersion(){return this.launchedVersion}getVersionType(){return this.versionType}getForceUnicodeFont(){return this.gameSettings.forceUnicodeFont}getPlayerName(){return this.testPlayerName}isMultiplayerEnabled(){return this.enableMultiplayer}isChatEnabled(){return this.enableChat}isModdedClient(){return!1}getIsGamePaused(){return this.isGamePaused}getRenderPartialTicks(){return this.timer.renderPartialTicks}getTickLength(){return this.timer.elapsedPartialTicks}getMainCanvas(){return this.mainCanvas}getSplashes(){return this.splashes}getLanguageManager(){return this.languageManager}}String.prototype.equals=function(t){return String(this)===t},(async()=>{await async function(){const t=["textures/font/ascii.png","textures/font/accented.png","font/default.json","textures/gui/options_background.png","textures/gui/widgets.png","sounds/click_stereo.ogg","texts/credits.txt","texts/end.txt","texts/splashes.txt","lang/en_us.json","lang/pt_pt.json","textures/gui/title/edition.png","textures/gui/title/minecraft.png","textures/gui/title/mojangstudios.png","textures/gui/checkbox.png","textures/gui/accessibility.png","textures/gui/icons.png","dummy.json"];for(let i=0;i<t.length;i++){const s=t[i],n=s.substr(0,s.indexOf("/"));let a="";"textures"==n?a="png":"lang"==n?a="json":"texts"==n?a="txt":"sounds"==n?a="ogg":"font"==n&&(a="json");const r=await fetch(`./resources/assets/minecraft/${s}`),h="json"==a?await r.json():"txt"==a?await r.text():await r.blob();if("png"==a){let t=new Image;t.src=URL.createObjectURL(h),t.onload=async()=>{e[`assets/minecraft/${s}`]=t,console.log(n,s,a)}}else if("ogg"==a){let t=new Audio("./resources/assets/minecraft/"+s);e[`assets/minecraft/${s}`]=t,console.log(n,s,a)}else e[`assets/minecraft/${s}`]=await h,console.log(n,s,a);if(i==t.length-1)return console.log(e),e}}();const i=new t(new t.UserInformation("KalmeMarq"),new t.GameInformation(!1,"1.42.0","release",!1,!1));let n;try{n=new mt(i),s.createLog("Minecraft Initialized!"),n.run()}catch(t){s.createLog("Couldn't Initialize Minecraft!","\n\nMore Details:",`\n\t${t}`)}})()})();